@(jobApps: List[JobApplicationModel])

@Recruiter.RecruitersScreenTemplate("Job Listing Form") {
	<script>
     function del(urlToDelete) {
        $.ajax({
          url: urlToDelete,
          type: 'DELETE',
          success: function(results) {
            // Refresh the page
            location.reload();
          }
        });
      }
</script>

	<h3>All Job Listings</h3>
	<div class="table-responsive" style="padding:10px;">
	
		<table class="table table-striped table-bordered table-hover">
			<thead>
				<tr>
					<th>#</th>
					<th>Applicant</th>
					<th>Job</th>
					<th>Date of Application</th>
					<th>Process</th>
					<th>DELETE</th>
				</tr>
			</thead>
			<tbody class="user_table_body">
				@for(jobApp <- jobApps) {
					<tr>
						<td class="user_table_id"></td>
						<td><a href="" class="btn btn-primary">@jobApp.app.applicant_firstName @jobApp.app.applicant_lastName</a></td>
						<td>@jobApp.job.job_title</td>
						<td>@jobApp.date</td>
						<td>
						@if(jobApp.status == "submitted") {
							<a href= "@routes.JobApplicationController.setApplicationStatus(jobApp.job_application_id,"accepted")" class="btn btn-success btn-sm" style="margin: 5px;">Accept</a>
							<a href= "@routes.JobApplicationController.setApplicationStatus(jobApp.job_application_id, "declined")" class="btn btn-danger btn-sm" style="margin: 5px;">Decline</a>
						} else {
							@if(jobApp.status == "declined"){
								<a href= "@routes.JobApplicationController.setApplicationStatus(jobApp.job_application_id,"submitted")" class="btn btn-warning btn-sm" style="margin: 5px;">Reopen Application</a>
							} else {
								@if(jobApp.status == "accepted") {
									<a href= "@routes.JobApplicationController.setApplicationStatus(jobApp.job_application_id,"interview")" class="btn btn-success btn-sm" style="margin: 5px;">Submit Interview</a>
									<a href= "@routes.JobApplicationController.setApplicationStatus(jobApp.job_application_id,"submitted")" class="btn btn-danger btn-sm" style="margin: 5px;">Cancel</a>	
								} else {
								 @if(jobApp.status == "interview") {
								 	<span style="font-weight: bold;">Interview Sent</span>
								 }
								}
							}
						}
						</td>
						<td>
							<a class="text-danger" style="cursor: pointer;" onclick="javascript:del('@routes.JobApplicationController.delete(jobApp.job_application_id)')"><i class="fa fa-remove fa-2x"></i></a>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
	
}